var FPFrameworkAdmin=function(){this.ui=new FPF_UI,this.cpt_helper=new FPF_CPT_Helper,this.conditionize=new FPF_Conditionize,this.tabs_state=new FPF_Tabs_State},FPF_Animation=(document.addEventListener("DOMContentLoaded",function(e){new FPFrameworkAdmin}),function(){function e(){}return e.slideUp=function(e,t){void 0===t&&(t=500),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)},e.slideDown=function(e,t){void 0===t&&(t=500),e.style.removeProperty("display");var i=window.getComputedStyle(e).display,i=(e.style.display=i="none"===i?"block":i,e.offsetHeight);e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=i+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)},e.slideToggle=function(e,t){return void 0===t&&(t=500),"none"===window.getComputedStyle(e).display?this.slideDown(e,t):this.slideUp(e,t)},e}()),FPF_Conditionize=function(){function e(e){var s=this,r=this;this.container=e||document,this.fields={},this.showonFields=[].slice.call(this.container.querySelectorAll("[data-showon]")),this.showonFields.length&&(this.showonFields.forEach(function(i){var e,n,o;i.hasAttribute("data-showon-initialised")||(i.setAttribute("data-showon-initialised",""),e=i.getAttribute("data-showon")||"",(n=JSON.parse(e)).length&&(o=[].slice.call(r.container.querySelectorAll('[name="'+n[0].field+'"], [name="'+n[0].field+'[]"]')),s.fields[n[0].field]||(s.fields[n[0].field]={origin:[],targets:[]}),o.forEach(function(e){-1===s.fields[n[0].field].origin.indexOf(e)&&s.fields[n[0].field].origin.push(e)}),s.fields[n[0].field].targets.push(i),1<n.length&&n.forEach(function(e,t){0!==t&&(o=[].slice.call(r.container.querySelectorAll('[name="'+e.field+'"], [name="'+e.field+'[]"]')),s.fields[n[0].field]||(s.fields[n[0].field]={origin:[],targets:[]}),o.forEach(function(e){-1===s.fields[n[0].field].origin.indexOf(e)&&s.fields[n[0].field].origin.push(e)}),-1===s.fields[n[0].field].targets.indexOf(i)&&s.fields[n[0].field].targets.push(i))})))}),this.linkedOptions=this.linkedOptions.bind(this),Object.keys(this.fields).forEach(function(t){s.fields[t].origin.length&&s.fields[t].origin.forEach(function(e){r.linkedOptions(t),e.addEventListener("change",function(){r.linkedOptions(t)}),e.addEventListener("keyup",function(){r.linkedOptions(t)}),e.addEventListener("click",function(){r.linkedOptions(t)})})}))}return e.prototype.linkedOptions=function(r){var a=this;this.fields[r].targets.forEach(function(e){var n,o=JSON.parse(e.getAttribute("data-showon"))||[],s=!0;o.forEach(function(t,e){var i=t||{};i.valid=0,a.fields[r].origin.forEach(function(e){e.name.replace("[]","")===t.field&&(e.getAttribute("type")&&["checkbox","radio"].includes(e.getAttribute("type").toLowerCase())?n=e.checked?e.value:"":"SELECT"===e.nodeName&&e.hasAttribute("multiple")?n=Array.from(e.querySelectorAll("option:checked")).map(function(e){return e.value}):e.parentElement&&e.parentElement.classList.contains("fptoggle")?n=e.checked?e.value:0:null===(n=e.value)&&"select"===e.tagName.toLowerCase()&&(n=[]),(n="object"!=typeof n?JSON.parse('["'+n+'"]'):n).forEach(function(e){"="===i.sign&&-1!==i.values.indexOf(e)&&(i.valid=1),"!="===i.sign&&-1===i.values.indexOf(e)&&(i.valid=1)}))}),""===i.op?0===i.valid&&(s=!1):("AND"===i.op&&i.valid+o[e-1].valid<2&&(s=!1,i.valid=0),"OR"===i.op&&0<i.valid+o[e-1].valid&&(s=!0,i.valid=1))}),"option"!==e.tagName?s?(e.classList.remove("hidden"),e.dispatchEvent(new CustomEvent("fpf:showon-show",{bubbles:!0}))):(e.classList.add("hidden"),e.dispatchEvent(new CustomEvent("fpf:showon-hide",{bubbles:!0}))):e.disabled=!s})},e}(),FPF_Cookie=function(){function e(){}return e.set=function(e,t,i){var n,o="";i&&((n=new Date).setTime(n.getTime()+24*i*60*60*1e3),o="; expires="+n.toUTCString()),document.cookie=e+"="+(t||"")+o+"; path=/"},e.get=function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null},e.remove=function(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},e}(),FPF_CPT_Helper=function(){function e(){this.initEvents()}var t=e.prototype;return t.initEvents=function(){document.addEventListener("click",function(e){this.handlePostTypeStatusChange(e)}.bind(this))},t.handlePostTypeStatusChange=function(e){var t,i=e.target.closest(".fpf-toggle-post-status");i&&(i.classList.add("disabled"),e=i.getAttribute("data-post-id"),t=i.checked?"publish":"draft",fetch(fpf_js_object.base_url+"/?rest_route=/fpframework/v1/cpt/"+e+"/"+t,{method:"POST",headers:{"X-WP-Nonce":fpf_js_object.wp_rest_nonce}}).then(function(e){return e.json()}).then(function(e){i.classList.remove("disabled")}))},e}(),FPF_FieldTooltipPosition=function(){function e(){this.labelClass=".fpf-tooltip-item",this.init()}return e.prototype.init=function(){document.addEventListener("mouseover",function(e){var t,i,n,e=e.target.closest(this.labelClass);e&&(t=(e=e.querySelector(".fpf-tooltip")).getBoundingClientRect(),i=e.parentElement.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i.top<=120||t.height/2>i.top?e.classList.add("pos-bottom"):i.top+120>n||i.top+120+t.height/2>n?e.classList.add("pos-top"):(e.classList.remove("pos-top"),e.classList.remove("pos-bottom")))}.bind(this))},e}(),FPF_Helper=function(){function e(){}return e.popupWindow=function(e,t,i,n){var o=null!=window.screenLeft?window.screenLeft:window.screenX,s=null!=window.screenTop?window.screenTop:window.screenY,r=window.innerWidth||document.documentElement.clientWidth||screen.width,a=window.innerHeight||document.documentElement.clientHeight||screen.height,l=r/window.screen.availWidth,e=window.open(e,t,"scrollbars=yes, width="+i/l+", height="+n/l+", top="+((a-n)/2/l+s)+", left="+((r-i)/2/l+o));window.focus&&e.focus()},e.getQueryString=function(e){var t=window.location.search;return new URLSearchParams(t).get(e)},e.number_format=function(e,t,i,n){if(null==e||!isFinite(e))throw new TypeError("Number is not valid");t||(t=1<(o=e.toString().split(".").length)?o:0),i=i||".",n=n||",";var o=(e=(e=parseFloat(e).toFixed(t)).replace(".",i)).split(i);return o[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,n),e=o.join(i)},e.loadScript=function(e,t,i){void 0===i&&(i=!1);var n=document.querySelectorAll('script[src^="'+e+'"]');if(0<n.length){if(!i)return void("function"==typeof t&&t());n.forEach(function(e){e.remove()})}(n=document.createElement("script")).src=e,document.head.appendChild(n),"function"==typeof t&&(n.onload=function(){t()})},e.loadStyleSheet=function(e,t){0<document.querySelectorAll('link[href^="'+e+'"]').length?"function"==typeof t&&t():((t=document.createElement("link")).href=e,t.type="text/css",t.rel="stylesheet",document.getElementsByTagName("head")[0].prepend(t))},e.onReady=function(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)},e}(),FPF_Tabs=function(){function e(){}var t=e.prototype;return t.init=function(){this.initEvents(),this.initMobileToggleLabel()},t.initEvents=function(){document.addEventListener("click",function(e){this.initNavigation(e),this.initMobileToggle(e),this.initMobileCloseOnDocumentClick(e)}.bind(this))},t.initNavigation=function(e){var t,i=e.target.closest(".fpf-tabs-nav-item");i&&(t=i.closest(".fpf-tabs-wrapper"),i=i.getAttribute("id"),tab_name=i.replace("fpf-tab-",""),this.selectTab(t,tab_name),e.preventDefault())},t.selectTab=function(e,t){this.getTabNavItem(e,t)&&(this.clearTabsSelection(e),this.changeSelection(e,t),"function"==typeof FPF_Textarea&&(e=e.querySelector('.fpf-tab-item[id$="'+t+'"]'),new FPF_Textarea(e).init()))},t.initMobileToggleLabel=function(){var e=document.querySelectorAll(".fpf-tabs-wrapper");e&&e.forEach(function(e){var t,i=e.querySelector(".fpf-tabs-nav-mobile-toggle span.text-outer");i&&(t=(e=e.querySelector(".fpf-tabs-nav .fpf-tabs")).querySelector("li.is-active"),i.innerHTML=(t||e.children[0]).querySelector(".text").innerHTML)})},t.initMobileToggle=function(e){var t=e.target.closest(".fpf-tabs-nav-mobile-toggle");t&&((t=t.parentNode).classList.contains("mobile-mode")?t.classList.remove("mobile-mode"):t.classList.add("mobile-mode"),e.preventDefault())},t.initMobileCloseOnDocumentClick=function(e){e.target.closest(".fpf-tabs-nav")||e.target.closest(".fpf-tabs-nav-mobile-toggle")||(e=document.querySelector(".fpf-tabs-nav-wrapper.mobile-mode"))&&e.classList.remove("mobile-mode")},t.clearTabsSelection=function(e){var t=e.querySelector(".fpf-tabs-nav-item.is-active"),t=(t&&t.classList.remove("is-active"),e.querySelector(".fpf-tab-item.is-active"));t&&t.classList.remove("is-active")},t.changeSelection=function(e,t){var i=this.getTabNavItem(e,t);i.classList.add("is-active"),e.querySelector('.fpf-tab-item[id$="'+t+'"]').classList.add("is-active"),e.querySelector(".fpf-tabs-nav-mobile-toggle")&&(e.querySelector(".fpf-tabs-nav-mobile-toggle .text-outer").innerHTML=i.innerHTML),e.querySelector(".fpf-tabs-nav-wrapper.mobile-mode")&&e.querySelector(".fpf-tabs-nav-wrapper.mobile-mode").classList.remove("mobile-mode")},t.getTabNavItem=function(e,t){return e.querySelector('.fpf-tabs-nav-item[id$="'+t+'"]')},e}(),FPF_Tabs_State=function(){function e(){this.tabsClass=".fpf-tabs-wrapper",this.tabNavItemClass=".fpf-tabs-nav-item",this.tabs_elements=document.querySelectorAll(this.tabsClass),this.tabs=new FPF_Tabs,this.init()}var t=e.prototype;return t.init=function(){this.tabs_elements.length&&(this.detectTabStateAndUpdateTabs(),this.initEvents())},t.initEvents=function(){document.addEventListener("click",function(e){this.setNewTabState(e)}.bind(this)),window.addEventListener("hashchange",function(){this.detectTabStateAndUpdateTabs()}.bind(this))},t.setNewTabState=function(e){var t,e=e.target.closest(this.tabNavItemClass);e&&(t=(t=e.getAttribute("id")).replace("fpf-tab-",""),null!=(e=e.closest(".fpf-tabs-wrapper").getAttribute("id"))&&FPF_Cookie.set(e,t))},t.detectTabStateAndUpdateTabs=function(){var t=this,i=(i=window.location.hash).replace("#","");this.tabs_elements.forEach(function(e){t.tabs.selectTab(e,i)})},e}(),FPF_UI=function(){this.tabs=new FPF_Tabs,this.tabs.init(),this.fieldTooltipPosition=new FPF_FieldTooltipPosition};

